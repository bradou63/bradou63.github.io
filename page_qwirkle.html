<!DOCTYPE html>
<html>
  <head>
    <title>Voice Command</title>
  </head>
  <body>
    <h2>Tap the Button and Speak</h2>
    <button onclick="startRecognition()">ðŸŽ¤ Start Listening</button>
    <p id="result">Waiting for input...</p>

    <script>
      function startRecognition() {
        const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
        recognition.lang = 'en-US';
        recognition.onresult = function(event) {
          const text = event.results[0][0].transcript;
          document.getElementById("result").textContent = "Heard: " + text;
          // Pass the recognized speech back to the app
          if (window.AppInventor) {
            window.AppInventor.setWebViewString(text);
          }
        };
        recognition.start();
      }
    </script>
  </body>
</html>
